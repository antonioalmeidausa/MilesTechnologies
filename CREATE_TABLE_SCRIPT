CREATE TABLE ROLES 
    (
        ROLE_ID INT PRIMARY KEY IDENTITY (1, 1), 
        ROLE_DESCRIPTION VARCHAR(100) NOT NULL
    );


CREATE TABLE OWNER 
    (
        OWNER_ID INT PRIMARY KEY IDENTITY (1, 1), 
        NAME VARCHAR(100) NOT NULL, 
        ROLE_ID INT FOREIGN KEY REFERENCES ROLES(ROLE_ID)
    );

CREATE TABLE LOCATION 
    (
        LOCATION_ID INT PRIMARY KEY IDENTITY (1, 1), 
        LOCATION_DESCRIPTION VARCHAR(100) NOT NULL
    );

CREATE TABLE TAVERN 
    (
        TAVERN_ID INT PRIMARY KEY IDENTITY (1, 1), 
        TAVERN_NAME VARCHAR(100) NOT NULL, 
        OWNER_ID INT REFERENCES OWNER(OWNER_ID), 
        TAVERN_ADDRESS INT FOREIGN KEY REFERENCES LOCATION(LOCATION_ID)
    );

CREATE TABLE RATS 
    (
        RATS_ID INT PRIMARY KEY IDENTITY (1,1), 
        RATS_NAME VARCHAR(100) NOT NULL, 
        TAVERN_ID INT FOREIGN KEY REFERENCES TAVERN(TAVERN_ID)
    );

CREATE TABLE SERVICES_STATUS
    (
        STATUS_ID INT PRIMARY KEY IDENTITY (1, 1), 
        STATUS_DESCRIPTION VARCHAR(50) NOT NULL
    );

CREATE TABLE SERVICES 
    (
        SERVICE_ID INT PRIMARY KEY IDENTITY (1, 1),
        TAVERN_ID INT FOREIGN KEY REFERENCES TAVERN(TAVERN_ID),
        SERVICE_NAME VARCHAR (100) NOT NULL, 
        SERVICE_STATUS INT FOREIGN KEY REFERENCES SERVICES_STATUS(STATUS_ID),
        SERVICE_PRICE DECIMAL(10, 2)  NOT NULL
    );

CREATE TABLE GUESTS 
    (
        GUEST_ID INT PRIMARY KEY IDENTITY (1, 1),
        GUEST_NAME VARCHAR(100) NOT NULL
    );

CREATE TABLE SUPPLIES
    (
        SUPPLY_ID INT PRIMARY KEY IDENTITY (1, 1),
        SUPPLY_NAME VARCHAR(100) NOT NULL, 
        SUPPLY_UNIT VARCHAR(50) NOT NULL 
    );

CREATE TABLE INVENTORY
    (
        INVENTORY_ID INT PRIMARY KEY IDENTITY (1, 1), 
        SUPPLY_ID INT FOREIGN KEY REFERENCES SUPPLIES(SUPPLY_ID),
        TAVERN_ID INT FOREIGN KEY REFERENCES TAVERN(TAVERN_ID),
        DATE_UPDATED DATETIME NOT NULL, 
        CURRENT_COUNT DECIMAL (10, 2) NOT NULL 
    );

CREATE TABLE SUPPLY_RECEIVED
    (
        TAVERN_ID INT FOREIGN KEY REFERENCES TAVERN(TAVERN_ID),
        SUPPLY_ID INT FOREIGN KEY REFERENCES SUPPLIES(SUPPLY_ID),
        COST DECIMAL (10, 2) NOT NULL, 
        COUNT DECIMAL (10, 2) NOT NULL, 
        DATE_RECEIVED DATETIME NOT NULL
    );

CREATE TABLE SUPPLY_SALE
    (
        SUPPLY_SALE_ID INT PRIMARY KEY IDENTITY (1, 1), 
        GUEST_ID INT FOREIGN KEY REFERENCES GUESTS(GUEST_ID),
        TAVERN_ID INT FOREIGN KEY REFERENCES TAVERN(TAVERN_ID),
        SUPPLY_ID INT FOREIGN KEY REFERENCES SUPPLIES(SUPPLY_ID), 
        PRICE DECIMAL (10, 2) NOT NULL, 
        SALE_DATE DATETIME NOT NULL, 
        QUANTITY DECIMAL (10, 2) NOT NULL
    );

CREATE TABLE SERVICE_SALE
    (
        SERVICE_SALE_ID INT PRIMARY KEY IDENTITY (1, 1), 
        GUEST_ID INT FOREIGN KEY REFERENCES GUESTS(GUEST_ID),
        TAVERN_ID INT FOREIGN KEY REFERENCES TAVERN(TAVERN_ID),
        SERVICE_ID INT FOREIGN KEY REFERENCES SERVICES(SERVICE_ID), 
        SALE_DATE DATETIME NOT NULL, 
        QUANTITY DECIMAL (10, 2) NOT NULL
    );